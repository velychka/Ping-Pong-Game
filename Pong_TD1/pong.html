<html>
 <body>
   <div id="menu">
     <input id="startGame" type="button" value="Start Game">
    </div>
   <div id="divGame"></div>
  
    <div style="position:absolute;top:60%">
      Pour commencer à jouer, appuyez sur Start Game et pour lancer la balle appuuyer sur ESPACE. <br>
      Vous pouvez contrôler votre joueur en utilisant la souris et les touches : UP = &uarr; / DOWN = &darr; 
  
    </div>
 </body>


  <script src="./js/game.js"></script>
  <script src="./js/game.display.js"></script>
  <script src="./js/game.keycode.js"></script>
  <script src="./js/game.control.js"></script>
  <script src="./js/game.ai.js"></script>


<script>

    (function () {
      // début du code isolé
      var requestAnimId;
      
      var initialisation = function() {
        // le code de l'initialisation
        game.init();
        requestAnimId = window.requestAnimationFrame(main); // premier appel de main au rafraîchissement de la page
      }
      
      var main = function() {
        // le code du jeu
        game.clearLayer(game.playersBallLayer);
        game.movePlayers();
        game.displayPlayers();
        game.moveBall();
        if ( game.ball.inGame ) {
          game.lostBall();
        }
        game.ai.move();
        game.collideBallWithPlayersAndAction();
        requestAnimId = window.requestAnimationFrame(main); // rappel de main  au prochain rafraîchissement de la page
      }
      
      window.onload = initialisation; // appel de la fonction initialisation au chargement de la page
      // association des méthodes aux évènements :
      // onKeyDown = à l'appui de la touche
      // onKeyUp = au relèvement de la touche
     // window.onkeydown = onKeyDown;
     // window.onkeyup = onKeyUp;

     
      // fin du code isolé
    })();
</script>
</html>